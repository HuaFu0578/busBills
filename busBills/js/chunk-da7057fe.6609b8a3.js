(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-da7057fe"],{"22e1":function(t,e,a){},2776:function(t,e,a){"use strict";var i=a("22e1"),n=a.n(i);n.a},3294:function(t,e,a){},"495c":function(t,e,a){"use strict";var i=a("7a10"),n=a.n(i);n.a},"52dc":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{directives:[{name:"print",rawName:"v-print",value:t.isPrint,expression:"isPrint"}],staticClass:"container",attrs:{direction:"vertical"}},[a("el-header",{staticClass:"header"},[a("el-row",{attrs:{type:"flex",justify:"space-between"}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"print-area noprint w100 h100"},[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.clickPrint}},[t._v("打印")])],1)]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"head-explain w100 h100"},[a("span",[t._v(t._s(t.searchYear))]),t._v("年\n          "),a("span",[t._v(t._s(t.searchMonth))]),t._v("月份平衡账\n          "),a("span",{staticClass:"vice-title"},[t._v(t._s(t.viceTitle))])])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"menu w100 h100 noprint"},[a("div",{staticClass:"trans-view",class:t.viewBgClass,on:{click:t.ClickTransView}})])])],1)],1),a("el-main",{staticClass:"main w100"},["table"==t.whichView?a("div",{staticClass:"table-view w100 h100"},[a("final-table",{attrs:{headConfig:t.headConfig,bodyConfig:t.bodyConfig}})],1):"graphics"==t.whichView?a("div",{staticClass:"graphics-view w100 h100"},[a("final-graphics")],1):t._e()])],1)},n=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"table-box"},[a("table",[a("thead",[a("tr",[a("th",{staticClass:"page"},[a("svg",{staticStyle:{position:"absolute",top:"0",left:"0"},attrs:{width:"100%",height:"100%"}},[a("text",{attrs:{x:"50%",y:"42%"}},[t._v("车牌")]),a("line",{staticStyle:{stroke:"red","stroke-width":".1rem"},attrs:{x1:"0",y1:"0",x2:"100%",y2:"100%"}}),a("text",{attrs:{x:"10%",y:"80%"}},[t._v("日期")])])]),t._l(t.headConfig.carName,function(e){return a("th",{key:"head_"+e,staticClass:"data"},[t._v(t._s(e))])}),a("th",{staticClass:"remain"},[t._v("余额")])],2)]),a("tbody",t._l(t.headConfig.pageRange,function(e,i){return a("tr",{key:"final_"+e},[a("th",{staticClass:"page"},[t._v(t._s(e))]),t._l(t.bodyConfig.carNum,function(n){return a("td",{key:e+n,staticClass:"data",class:""==t.inOutData(i,n)?"":t.inOutData(i,n)<0?"minus":"plus"},[t._v(t._s(t.inOutData(i,n)))])}),a("td",{staticClass:"remain"},[t._v(t._s(t.remainData(i)))])],2)}),0),a("tfoot",t._l(t.totalAmount,function(e,i){return a("tr",{key:e.head},[a("th",2==i?{staticClass:"page",attrs:{title:"点击切换精度"},on:{click:t.clickFixDigit}}:{staticClass:"page"},[t._v(t._s(e.head))]),0==i?[t._l(t.bodyConfig.carNum,function(i){return a("td",{key:"final"+e.head+i,staticClass:"data totalInOut",class:""==t.appendixData(e,i)?"":t.appendixData(e,i)<0?"minus":"plus"},[t._v(t._s(t.appendixData(e,i)))])}),a("td",{staticClass:"remain totalInOut"},[t._v(t._s(e.content.remain))])]:1==i?[t._l(t.bodyConfig.carNum,function(i){return a("td",{key:"final"+e.head+i,staticClass:"data beforeDeduction",class:""==t.appendixData(e,i)?"":t.appendixData(e,i)<0?"minus":"plus"},[t._v(t._s(t.appendixData(e,i)))])}),a("td",{staticClass:"remain beforeDeduction",class:isNaN(parseInt(e.content.lastMonthRemain))?"":" show-lt"},[t._v(t._s(e.content.lastMonthRemain))])]:2==i?[t._l(t.bodyConfig.carNum,function(i){return a("td",{key:"final"+e.head+i,staticClass:"data afterDeduction",class:""==t.appendixData(e,i)?"":t.appendixData(e,i)<0?"minus":"plus"},[t._v(t._s(t.isFixed?t.fixedData(e,i):t.appendixData(e,i)))])}),a("td",{staticClass:"remain afterDeduction"},[t._v(t._s(e.content.remain))])]:t._e()],2)}),0)])])])},o=[],c=a("5d58"),l=a.n(c),u=a("67bb"),p=a.n(u);function f(t){return f="function"===typeof p.a&&"symbol"===typeof l.a?function(t){return typeof t}:function(t){return t&&"function"===typeof p.a&&t.constructor===p.a&&t!==p.a.prototype?"symbol":typeof t},f(t)}function d(t){return d="function"===typeof p.a&&"symbol"===f(l.a)?function(t){return f(t)}:function(t){return t&&"function"===typeof p.a&&t.constructor===p.a&&t!==p.a.prototype?"symbol":f(t)},d(t)}var h=a("2f62");function b(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,i)}return a}function m(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?b(a,!0).forEach(function(e){Object(r["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):b(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var y={data:function(){return{}},computed:m({},Object(h["c"])("FinalTable",["isFixed"]),{totalAmount:function(){return[{head:"进出总数",content:this.bodyConfig.totalInOut||{}},{head:"提成前总数",content:this.bodyConfig.beforeDeduction||{}},{head:"10%提成总数",content:this.bodyConfig.afterDeduction||{}}]},inOutData:function(){var t=this;return function(e,a){var i=t.bodyConfig["page"+(e+1)];return i?i[a]:""}},remainData:function(){var t=this;return function(e){var a=t.bodyConfig["page"+(e+1)];return a?a.remain:""}},appendixData:function(){return function(t,e){var a=t.content[e];return"object"!==d(a)?a:""}},fixedData:function(){return function(t,e){var a=t.content.fixedData;return a?a[e]:""}}}),props:["headConfig","bodyConfig"],methods:{clickFixDigit:function(){this.$store.commit("FinalTable/changeIsFixed",!this.isFixed)}}},g=y,v=(a("2776"),a("773e"),a("2877")),O=Object(v["a"])(g,s,o,!1,null,"6911b2e2",null),w=O.exports,x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("static-charts",{staticClass:"g1",attrs:{options:t.deductOpt}}),a("static-charts",{staticClass:"g2",attrs:{options:t.incomeOpt}}),a("static-charts",{staticClass:"g3",attrs:{options:t.specialOpt}})],1)},C=[],D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[a("div",{ref:"chartBox",staticClass:"noprint"}),a("div",{staticClass:"waitprint"},[a("img",{ref:"chartImg"})])])},_=[],j={props:["options","imgParams"],watch:{"options.dataset":{handler:function(t,e){this.refreshCharts()}}},mounted:function(){this.refreshCharts()},methods:{refreshCharts:function(){var t=this,e=this.$refs,a=e.chartBox,i=e.chartImg,n=this.$echarts.init(a);n.setOption(this.options),n.on("finished",function(){i.src=n.getDataURL(t.imgParams||{})})}}},P=j,k=(a("495c"),Object(v["a"])(P,D,_,!1,null,"67d93542",null)),N=k.exports;function S(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,i)}return a}function A(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?S(a,!0).forEach(function(e){Object(r["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):S(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var T={data:function(){return{deductOpt:{title:{text:"10%提成进出账总数",textAlign:"center",top:"5%",left:"48%"},xAxis:{type:"category"},yAxis:{nameLocation:"center",nameGap:50,nameTextStyle:{fontSize:16},axisLabel:{show:!0,formatter:"{value}元",fontSize:11},axisPointer:{show:!0,type:"line"}},legend:{bottom:"5%"},dataset:{},tooltip:{},series:[{type:"bar",stack:"balance",barWidth:"25%",barGap:"20%",itemStyle:{color:"#2683e7"},label:{show:!0,position:"top",fontWeight:600,color:"#000"}},{type:"bar",stack:"balance",barWidth:"25%",barGap:"20%",itemStyle:{color:"#e64c9e"},label:{show:!0,position:"top",fontWeight:600,color:"#000"}}]},incomeOpt:{title:{text:"各车毛收入统计",textAlign:"center",top:"5%",left:"48%"},xAxis:{type:"category"},yAxis:{nameLocation:"center",nameGap:50,nameTextStyle:{fontSize:16},axisLabel:{show:!0,fontSize:12,formatter:"{value}元"},axisPointer:{show:!0,type:"line"}},legend:{bottom:"5%"},dataset:{},tooltip:{},grid:{x2:150},series:[{type:"bar",barWidth:"25%",barGap:"20%",itemStyle:{color:"#582fdf"},label:{show:!0,position:"top",fontWeight:600,color:"#000"}}]},specialOpt:{title:{text:"各车特殊情况天数统计",textAlign:"center",top:"5%",left:"48%"},legend:{bottom:"5%"},tooltip:{},dataset:{},xAxis:{type:"category"},yAxis:{nameLocation:"center",nameGap:35,nameTextStyle:{fontSize:14},axisLabel:{show:!0,formatter:"{value}天"}},series:[{type:"bar",itemStyle:{color:"#cd12de"},label:{show:!0,position:"top",fontWeight:600,color:"#000"}},{type:"bar",itemStyle:{color:"red"},label:{show:!0,position:"top",fontWeight:600,color:"#000"}},{type:"bar",itemStyle:{color:"orange"},label:{show:!0,position:"top",fontWeight:600,color:"#000"}}]}}},computed:A({},Object(h["c"])(["dealedData"]),{},Object(h["c"])("FinalTable",["isFixed"]),{},Object(h["b"])(["carName"]),{deductTotal:function(){var t=this.dealedData.commonData.summaryData,e=t.afterDeduction?this.isFixed?t.afterDeduction.fixedData:t.afterDeduction:{},a=["carName","10%提成后进账","10%提成后出账"],i=[];return this.carName.forEach(function(t){var n,s=t.slice(1),o=e[s];o=isNaN(parseInt(o))?"":o,i.push((n={},Object(r["a"])(n,a[0],t),Object(r["a"])(n,a[1],o>=0?o:""),Object(r["a"])(n,a[2],o<0?o:""),n))}),{dimensions:a,source:i}},sumAmount:function(){var t=this.dealedData.specialData,e=t.monthSum||"",a=["income","毛收入（包括油补）"],i=[];return this.carName.forEach(function(t){var n,s=t.slice(1);i.push((n={},Object(r["a"])(n,a[0],t),Object(r["a"])(n,a[1],e?e[s]:""),n))}),this.setAverageLine(e.averageSum),{dimensions:a,source:i}},specialCir:function(){var t=this.dealedData.specialData,e=t.xbTimes||"",a=t.wpTimes||"",i=t.tbTimes||"",n=[],s=["carName","休班天数","未跑天数","踏班天数"];return this.carName.forEach(function(t){var o,c=t.slice(1);n.push((o={},Object(r["a"])(o,s[0],t),Object(r["a"])(o,s[1],""==e?"":isNaN(parseInt(e[c]))?0:e[c]),Object(r["a"])(o,s[2],""==a?"":isNaN(parseInt(a[c]))?0:a[c]),Object(r["a"])(o,s[3],""==i?"":isNaN(parseInt(i[c]))?0:i[c]),o))}),{dimensions:s,source:n}}}),components:{staticCharts:N},created:function(){this.setPartParam()},activated:function(){this.setPartParam()},methods:{setPartParam:function(){this.$set(this.deductOpt,"dataset",this.deductTotal),this.$set(this.incomeOpt,"dataset",this.sumAmount),this.$set(this.specialOpt,"dataset",this.specialCir)},setAverageLine:function(t){var e={label:{position:"end",formatter:"{b}:{c}元",color:"#fff",backgroundColor:"#582fdf",fontSize:16,padding:5,borderRadius:5},lineStyle:{type:"dotted",color:"red"},precision:0,data:[{name:"平均",yAxis:t}]};this.incomeOpt.series[0].markLine=e}}},E=T,L=(a("c6de"),Object(v["a"])(E,x,C,!1,null,"3cee0f18",null)),F=L.exports;function I(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,i)}return a}function V(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?I(a,!0).forEach(function(e){Object(r["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):I(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var $={data:function(){return{isPrint:!1,whichView:"table",viewList:["table","graphics"]}},computed:V({},Object(h["c"])(["searchYear","searchMonth","curMonLength","carNum","dealedData"]),{},Object(h["b"])(["carName","pageRange"]),{headConfig:function(){return{carName:this.carName,pageRange:this.pageRange}},bodyConfig:function(){var t=this.dealedData.commonData.summaryData;return Object.assign({carNum:this.carNum},t)},viceTitle:function(){return"table"==this.whichView?"（表格）":"graphics"==this.whichView?"（统计图）":void 0},viewBgClass:function(){return"table"==this.whichView?"graphics-view-bg":"graphics"==this.whichView?"table-view-bg":void 0}}),components:{finalTable:w,finalGraphics:F},methods:{clickPrint:function(){this.isPrint=!0},ClickTransView:function(){var t=this.viewList,e=t.indexOf(this.whichView);this.whichView=t[(t.length+e+1)%t.length]}}},W=$,R=(a("a1ae"),Object(v["a"])(W,i,n,!1,null,"2e202b60",null));e["default"]=R.exports},"5d58":function(t,e,a){t.exports=a("d8d6")},"67bb":function(t,e,a){t.exports=a("f921")},"6c80":function(t,e,a){},"773e":function(t,e,a){"use strict";var i=a("8178"),n=a.n(i);n.a},"7a10":function(t,e,a){},8178:function(t,e,a){},a1ae:function(t,e,a){"use strict";var i=a("6c80"),n=a.n(i);n.a},c6de:function(t,e,a){"use strict";var i=a("3294"),n=a.n(i);n.a}}]);